# 🔧 Django Admin 新增功能使用指南

## 新增功能概述

已在 Django 管理後台新增了以下功能：

1. ✅ **快速建立教師帳號** - 在用戶管理頁面
2. ✅ **快速新增課程** - 在課程管理頁面

---

## 📋 功能詳情

### 功能 1: 快速建立教師帳號

#### 訪問方式

1. 進入 Django 後台: http://127.0.0.1:8000/admin/
2. 登入管理員帳號 (`admin` / `admin123`)
3. 進入「用戶」(Users) 頁面
4. 點擊「➕ **新增教師帳號**」按鈕

#### 需要填寫的信息

| 欄位 | 說明 | 範例 | 必填 |
|------|------|------|------|
| 用戶名 | 登入帳號 | `teacher_chen` | ✅ |
| 密碼 | 登入密碼 | `Secure#Pass123` | ✅ |
| 名字 | 教師名字 | `小芬` | ❌ |
| 姓氏 | 教師姓氏 | `王` | ❌ |
| 郵箱 | 電子郵件 | `teacher@school.edu.tw` | ❌ |
| 部門 | 所在部門 | `資訊系` | ❌ |

#### 建立步驟

1. 點擊「➕ 新增教師帳號」按鈕
2. 填寫表單（用戶名和密碼為必填）
3. 點擊「✅ 建立教師帳號」按鈕
4. 系統會顯示成功訊息 ✅

#### 建立結果

- ✅ 帳號自動建立並設定角色為「教師」(teacher)
- ✅ 該教師可以登入系統查看儀表板
- ✅ 可以被分配課程並編輯學生成績

#### 注意事項

⚠️ **用戶名必須唯一** - 若用戶名已存在，系統會提示錯誤
⚠️ **郵箱也應唯一** - 若郵箱已被使用，系統會提示錯誤

---

### 功能 2: 快速新增課程

#### 訪問方式

1. 進入 Django 後台: http://127.0.0.1:8000/admin/
2. 登入管理員帳號 (`admin` / `admin123`)
3. 進入「課程」(Courses) 頁面
4. 點擊「➕ **快速新增課程**」按鈕

#### 需要填寫的信息

| 欄位 | 說明 | 範例 | 必填 |
|------|------|------|------|
| 課程名稱 | 完整課程名稱 | `Python 程式設計` | ✅ |
| 課程代碼 | 唯一識別碼 | `CS101` | ✅ |
| 授課教師 | 選擇教師 | 王小芬 (teacher_chen) | ❌ |
| 課程描述 | 課程簡介 | `學習 Python 基礎...` | ❌ |

#### 建立步驟

1. 點擊「➕ 快速新增課程」按鈕
2. 填寫課程名稱（必填）
3. 填寫課程代碼（必填）
4. 選擇授課教師（可選 - 可以之後再改）
5. 填寫課程描述（可選）
6. 點擊「✅ 建立課程」按鈕
7. 系統會顯示成功訊息 ✅

#### 建立結果

- ✅ 課程建立完成
- ✅ 課程已關聯到選定的教師（如有選擇）
- ✅ 該課程現在可以用於學生註冊

#### 注意事項

⚠️ **課程代碼必須唯一** - 若代碼已存在，系統會提示錯誤
⚠️ **教師下拉式選單** - 只會顯示已建立的教師帳號
⚠️ **未指定教師** - 可以選擇不指定教師，之後在編輯課程時再設定

---

## 📊 操作流程範例

### 完整流程: 建立教師並新增課程

#### 步驟 1: 建立教師帳號

```
1. 進入 Django 後台 (/admin/)
2. 進入「用戶」頁面
3. 點擊「➕ 新增教師帳號」
4. 填寫表單:
   - 用戶名: teacher_lin
   - 密碼: LinPassword123
   - 名字: 明穎
   - 姓氏: 李
   - 郵箱: li.mingying@school.edu.tw
   - 部門: 數學系
5. 點擊「✅ 建立教師帳號」
6. 看到成功訊息 ✅
```

#### 步驟 2: 為教師新增課程

```
1. 進入「課程」頁面
2. 點擊「➕ 快速新增課程」
3. 填寫表單:
   - 課程名稱: 微積分基礎
   - 課程代碼: MATH101
   - 授課教師: 李明穎 (teacher_lin)
   - 課程描述: 學習極限、導數和積分的基本概念
4. 點擊「✅ 建立課程」
5. 看到成功訊息 ✅
```

#### 步驟 3: 驗證

```
1. 新建立的教師可以登入:
   - 用戶名: teacher_lin
   - 密碼: LinPassword123

2. 登入後進入「👨‍🏫 教師」儀表板
3. 可以看到「微積分基礎」課程
4. 可以為課程中的學生編輯成績
```

---

## 🔍 進階功能

### 在標準編輯介面編輯

除了快速建立之外，你也可以使用標準的 Django Admin 表單編輯課程：

1. 進入課程列表
2. 點擊要編輯的課程
3. 修改課程信息
4. 在「授課教師」下拉式選單中選擇教師
5. 點擊「Save」保存

### 使用 User Profile 管理角色

1. 進入「User Profiles」頁面
2. 可以直接編輯用戶的角色和部門
3. 支援內聯編輯 (快速修改)

---

## ⚠️ 常見問題

### Q1: 新增教師時看不到下拉式選單？

**A:** 新增教師帳號時不需要選擇角色，系統會自動設定為「教師」角色。

### Q2: 新增課程時沒有可選的教師？

**A:** 需要先建立教師帳號。進入「用戶」頁面，點擊「➕ 新增教師帳號」建立。

### Q3: 如何修改已建立的課程的教師？

**A:** 
1. 進入「課程」列表
2. 點擊要編輯的課程
3. 在「授課教師」欄位選擇新教師
4. 點擊「Save」保存

### Q4: 如何修改教師的信息（名字、郵箱等）？

**A:**
1. 進入「用戶」列表
2. 點擊要編輯的用戶
3. 修改名字、郵箱等信息
4. 點擊「Save」保存

### Q5: 建立的教師如何登入系統？

**A:**
1. 訪問 http://127.0.0.1:8000/accounts/login/
2. 輸入用戶名和密碼
3. 點擊「登入」
4. 登入成功後會看到「👨‍🏫 教師」按鈕

---

## 📈 系統整合

### 權限限制

- 只有**管理員**可以建立教師帳號
- 只有**管理員**可以新增課程
- **教師**可以編輯自己課程的學生成績
- **學生**只能查看自己的課程和成績

### 自動設定

- 新建的教師帳號會**自動**設定為「教師」角色
- 可以為課程指定教師，該教師會看到該課程在自己的儀表板

---

## 🎯 使用提示

✅ **建議順序:**
1. 先建立教師帳號
2. 再建立課程並指定教師
3. 然後為學生建立帳號
4. 最後進行課程註冊

✅ **命名規範:**
- 用戶名: 使用英文或拼音，例如 `teacher_chen`, `teacher_wang`
- 課程代碼: 使用系統編碼，例如 `CS101`, `MATH201`
- 部門: 使用部門完整名稱，例如 `資訊系`, `數學系`

---

## 📞 技術細節

### 新增教師的後台流程

```python
1. 檢查用戶名唯一性
2. 檢查郵箱唯一性
3. 建立 User 物件
4. 建立 UserProfile 物件，角色設為 'teacher'
5. 返回成功訊息
```

### 新增課程的後台流程

```python
1. 檢查課程代碼唯一性
2. 取得選定的教師 User 物件
3. 建立 Course 物件
4. 綁定教師
5. 返回成功訊息
```

---

**版本:** 1.0.0  
**最後更新:** 2025-12-30  
**狀態:** ✅ 生產就緒
