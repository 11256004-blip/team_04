{% extends 'grades/base.html' %}

{% block content %}
  <a href="{% url 'grades:main' %}" class="btn btn-small" style="margin-bottom: 20px;">â¬…ï¸ å›åˆ°ä¸»é </a>
  
  <h2>ğŸ“ åŠ é¸èª²ç¨‹</h2>
  
  {% if messages %}
    {% for message in messages %}
      <div class="message {% if message.tags %}{{ message.tags }}{% endif %}">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}
  
  <div style="max-width: 600px; margin: 20px auto;">
    <div class="info-card">
      <p>ğŸ’¡ <strong>æç¤ºï¼š</strong>è«‹é¸æ“‡è¦åŠ é¸çš„èª²ç¨‹ï¼Œä¸¦å¯é¸å¡«æœŸä¸­ã€æœŸæœ«æˆç¸¾ã€‚</p>
    </div>
    
    {% if available_courses %}
      <form method="post">
        {% csrf_token %}
        
        <p>
          <label for="{{ form.course.id_for_label }}">{{ form.course.label }}</label>
          {{ form.course }}
          {% if form.course.errors %}
            <div style="color: #c00; font-size: 0.9em; margin-top: 5px;">
              {{ form.course.errors.0 }}
            </div>
          {% endif %}
        </p>
        
        <p>
          <label for="{{ form.midterm_score.id_for_label }}">{{ form.midterm_score.label }}</label>
          {{ form.midterm_score }}
          {% if form.midterm_score.errors %}
            <div style="color: #c00; font-size: 0.9em; margin-top: 5px;">
              {{ form.midterm_score.errors.0 }}
            </div>
          {% endif %}
        </p>
        
        <p>
          <label for="{{ form.final_score.id_for_label }}">{{ form.final_score.label }}</label>
          {{ form.final_score }}
          {% if form.final_score.errors %}
            <div style="color: #c00; font-size: 0.9em; margin-top: 5px;">
              {{ form.final_score.errors.0 }}
            </div>
          {% endif %}
        </p>
        
        <div class="btn-group">
          <button type="submit" class="btn">âœ… ç¢ºèªåŠ é¸</button>
          <a href="{% url 'grades:main' %}" class="btn btn-secondary">âŒ å–æ¶ˆ</a>
        </div>
      </form>
    {% else %}
      <div class="empty-state">
        <div class="empty-state-icon">âœ…</div>
        <p style="font-size: 1.1em; color: #666;">å·²é¸å®Œæ‰€æœ‰èª²ç¨‹ï¼</p>
        <p>ç›®å‰æ²’æœ‰å…¶ä»–èª²ç¨‹å¯é¸ã€‚</p>
        <a href="{% url 'grades:main' %}" class="btn" style="margin-top: 20px;">è¿”å›ä¸»é </a>
      </div>
    {% endif %}
  </div>
{% endblock %}
