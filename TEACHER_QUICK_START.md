# 🎓 教師三新功能 - 快速開始指南

## ⚡ 30 秒快速開始

### 1️⃣ 新增課程 (30秒)

```
登入教師帳號 (teacher1 / teacher123)
    ↓
點擊「➕ 新增課程」
    ↓
輸入: 課程名稱 + 課程代碼
    ↓
點擊「新增課程」✅
```

**訪問**: http://127.0.0.1:8000/teacher/add_course/

---

### 2️⃣ 查詢修課學生 (10秒)

```
點擊「👥 查詢修課學生」
    ↓
(可選) 篩選特定課程
    ↓
看到完整的學生名單 ✅
```

**訪問**: http://127.0.0.1:8000/teacher/student_list/

---

### 3️⃣ 輸入成績 (2分鐘)

```
進入課程 → 點擊「編輯成績」
    ↓
在表格中輸入期中、期末分數
    ↓
點擊「保存所有成績」✅
```

**訪問**: http://127.0.0.1:8000/teacher/grade_entry/<course_id>/

---

## 📌 三個功能對比

| 功能 | 目的 | 時間 | 入口 |
|------|------|------|------|
| **新增課程** | 建立你的課程 | 1分鐘 | 儀表板 / 按鈕 |
| **查詢學生** | 看誰修了課 | 30秒 | 儀表板 / 按鈕 |
| **輸入成績** | 評分學生 | 2分鐘 | 學生列表 / 課程卡片 |

---

## 📊 工作流程圖

```
教師儀表板
    │
    ├─→ [➕ 新增課程] → 課程名稱、代碼 → 保存 → 新課程
    │
    ├─→ [👥 查詢學生] → (篩選課程) → 看名單
    │
    ├─→ [📊 輸入成績] → 期中、期末分數 → 保存 → 成績記錄
    │
    └─→ 課程卡片 → [編輯成績] → 快速評分
```

---

## 🔑 快速鍵盤導航

| 操作 | 對應页面 |
|------|---------|
| Ctrl+1 | 到儀表板 |
| Ctrl+2 | 到新增課程 |
| Ctrl+3 | 到查詢學生 |

*(需要瀏覽器支持)*

---

## 💡 常用場景速查

### 場景 1: 「我想建立一個新課程」

```bash
步驟:
1. 點擊儀表板上的「➕ 新增課程」
2. 填寫課程名稱 (例: Python 進階)
3. 填寫課程代碼 (例: CS201)
4. (可選) 填寫課程描述
5. 點擊「新增課程」

結果: ✅ 課程已建立，學生可以註冊
```

### 場景 2: 「我想看有誰修了我的課」

```bash
步驟:
1. 點擊儀表板上的「👥 查詢修課學生」
2. 選擇要查看的課程 (或查看全部)
3. 看到詳細的學生名單

結果: ✅ 可以看到每位學生的成績
```

### 場景 3: 「我想給學生打分」

```bash
步驟:
1. 進入「查詢修課學生」
2. 篩選課程後點擊「編輯此課程成績」
   或
   在儀表板課程卡片點擊「編輯成績」
3. 在表格中輸入期中、期末分數
4. 點擊「保存所有成績」

結果: ✅ 成績已保存，學生可以查看
```

---

## 🎯 測試用例

### 測試帳號

```
教師帳號:
  用戶名: teacher1
  密碼:   teacher123

教師帳號:
  用戶名: teacher2
  密碼:   teacher123
```

### 預設課程

```
已存在課程:
  - Python 基礎 (CS101) - 教師: teacher1
  - Web 開發 (CS102) - 教師: teacher1
  - 資料結構 (CS201) - 教師: teacher2
  - 演算法 (CS202) - 教師: teacher2
```

### 預設學生

```
student1, student2, student3, student4
密碼都是: student123
```

### 建議測試流程

```
1. 用 teacher1 登入
2. 進入儀表板 → 看到 2 個課程
3. 點擊「➕ 新增課程」建立新課程
   課程名稱: 機器學習基礎
   課程代碼: CS301
4. 點擊「👥 查詢修課學生」看名單
5. 篩選 CS101，看到 2 名學生
6. 點擊「編輸入成績」
7. 輸入期中 85、期末 90
8. 點擊「保存所有成績」
9. 驗證成績是否已保存 ✅
```

---

## 🎨 UI 特色

### 1️⃣ 新增課程頁面

```
視覺特色:
  ✨ 大型卡片設計
  ✨ 清晰的表單標籤
  ✨ 輸入提示和驗證訊息
  ✨ 返回按鈕便於導航
  ✨ 響應式設計，適配手機
```

### 2️⃣ 查詢學生名單

```
視覺特色:
  ✨ 統計卡片 (課程數、學生數、成績數)
  ✨ 課程篩選下拉選單
  ✨ 專業表格設計
  ✨ 成績徽章高亮顯示
  ✨ 平均分數自動計算
```

### 3️⃣ 成績輸入頁面

```
視覺特色:
  ✨ 大型表格，易於輸入
  ✨ 實時平均分數計算
  ✨ 數字輸入框，支持小數
  ✨ 視覺反饋 (焦點、懸停)
  ✨ 一鍵保存按鈕
```

---

## ⚙️ 技術細節

### 後端驗證

```python
# 新增課程
- 檢查課程代碼唯一性 ✅
- 自動設定教師為當前登入者 ✅
- 檢查用戶是否為教師 ✅

# 查詢學生
- 只能看自己的課程 ✅
- 支持課程篩選 ✅

# 輸入成績
- 驗證權限 (只能改自己課程的成績) ✅
- 驗證分數範圍 (0-100) ✅
- 批量保存所有修改 ✅
```

### 前端增強

```javascript
// 成績輸入頁面
- 實時計算平均分數 ✅
- 表單驗證 ✅
- 響應式表格 ✅
```

---

## 📱 響應式設計

三個功能都採用響應式設計：

```
桌機 (≥1024px):
  ├─ 寬表格，可見所有欄位
  └─ 側邊欄控制項

平板 (768-1023px):
  ├─ 縮小表格，可滾動
  └─ 堆疊控制項

手機 (≤767px):
  ├─ 垂直堆疊
  ├─ 卡片式佈局
  └─ 觸控友善的輸入框
```

---

## 🔐 安全性

所有功能都包含安全檢查：

```
✅ 權限驗證: 確保只有教師可以訪問
✅ 所有權驗證: 教師只能編輯自己的課程
✅ 輸入驗證: 檢查分數有效性
✅ CSRF保護: Django CSRF 令牌
✅ SQL注入防護: ORM 自動防護
```

---

## 🚀 性能最佳化

```
✨ 資料庫查詢最佳化 (select_related, prefetch_related)
✨ 客戶端計算 (平均分數在瀏覽器計算)
✨ 批量操作 (一次保存多條記錄)
✨ 快取友善設計 (減少重複查詢)
```

---

## 📚 完整文檔

| 文檔 | 內容 |
|------|------|
| **TEACHER_NEW_FEATURES.md** | 詳細功能說明 (你在看的) |
| **ADMIN_QUICK_ADD_USAGE.md** | 管理員快速新增指南 |
| **ADMIN_TEACHER_FEATURES.md** | 管理員功能文檔 |
| **QUICK_START.md** | 專案快速開始 |

---

## 🆘 故障排除

### 問題: 頁面無法訪問

```
檢查清單:
☐ 伺服器是否運行? (http://127.0.0.1:8000/)
☐ 是否登入為教師?
☐ URL 是否正確?
```

### 問題: 成績保存失敗

```
檢查清單:
☐ 分數是否在 0-100 之間?
☐ 輸入的是否為數字?
☐ 是否有課程權限?
☐ 資料庫是否連接?
```

### 問題: 課程代碼重複

```
解決方案:
  使用不同的代碼，例如:
  - CS101 → CS101_2025
  - CS101 → CS101_A
  - CS101 → CS101_NEW
```

---

## 💬 反饋和支援

遇到問題? 檢查這些資源:

1. **詳細文檔**: TEACHER_NEW_FEATURES.md
2. **管理後台**: Django Admin 檢查資料
3. **伺服器日誌**: 查看終端輸出

---

## 🎉 現在就開始吧！

```
第一步: 登入教師帳號
第二步: 點擊「➕ 新增課程」建立課程
第三步: 點擊「👥 查詢修課學生」看名單
第四步: 點擊「📊 輸入成績」評分

預期時間: 5 分鐘
難度等級: ⭐⭐☆☆☆ (簡單)
```

---

**版本**: 1.0  
**發布日期**: 2025-12-30  
**狀態**: ✅ 生產就緒
